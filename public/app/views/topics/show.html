<div class="page-header">
    <h1>{{topic.name}}</h1>
</div>

<p>
    {{topic.description}}
</p>

<h2><ng-pluralize count="topic.Messages.length" when="{'one': '1 viesti', 'other': '{} viestiä'}"></ng-pluralize></h2>

<div ng-repeat="message in topic.Messages">
    <ul class="media-list">
        <li class="media">
            <div class="media-body">
                <h4 class="media-heading">
                    <a ng-href="#/messages/{{message.id}}">{{message.title}}</a>
                </h4>

                <p>
                    {{message.content}}
                </p>

                <p class="text-muted">
                    {{message.User.username}}, {{message.createdAt| date: 'd.M.yyyy HH:mm'}}
                </p>
            </div>
        </li>
    </ul>    
</div>


<div ng-show="userLoggedIn">
    <h2>Lisää oma viestisi</h2>

    <form>
        <div class="form-group">
            <label>Otsikko</label>
            <input type="text" ng-model="newMessageTitle" class="form-control">
        </div>

        <div class="form-group">
            <label>Viesti</label>
            <textarea ng-model="newMessageContent" class="form-control"></textarea>
        </div>
        <button ng-click="addMessage()" class="btn btn-success">Lisää viesti</button>
    </form>

</div>
